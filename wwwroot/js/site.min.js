function checkAttendanceSwitch(n){var t=$(n);t.attr("checked")?(t.attr("checked",!1),$(".absent").show(),$(".present").hide()):(t.attr("checked",!0),$(".absent").hide(),$(".present").show())}function GetAttendanceDetails(){var n=dataFromModal;$(".progress").show();$.get("/Event/GetDefaultAttendance",n,function(n){$("#absentreason").val(n.absentreason);$("#attendancenotes").val(n.notes);$(".progress").hide()})}function PostAttendanceDetails(){$(".progress-spinner").show();var n={},t=$("#chkattendance").attr("checked");t?(n.attended=!0,n.intime=$("#intime").val(),n.outtime=$("#outtime").val()):(n.attended=!1,n.absentreason=$("#absentreason option:selected").text());n.notes=$("#attendancenotes").val();n.coursenumber=dataFromModal.coursename;n.eventid=dataFromModal.eventid;n.partyid=dataFromModal.partyid;$.post("/event/MarkAttendance",n,function(n){n==="NegativeTime"?Materialize.toast("Negative Duration selected for "+dataFromModal.fullname,4e3,"",function(){$(".btnmodal").click()}):(Materialize.toast("Attendance Marked for "+dataFromModal.fullname,4e3),location.reload());$(".progress-spinner").hide()})}$(document).ready(function(){$(".btnmodal").leanModal({ready:function(){GetAttendanceDetails()}});$("select").material_select();$(".progress").hide();$(".progress-spinner").hide();checkAttendanceSwitch()});$("#chkattendance").click(function(){checkAttendanceSwitch(this)});var dataFromModal={};$(".btnmodal").click(function(){var n={},t=$(this).data("fullname");n.fullname=t;n.coursename=$(this).data("courseid");n.eventid=$(this).data("eventid");n.partyid=$(this).data("partyid");$("#studentname").html(t.toUpperCase());dataFromModal=n});$("#markattendancebtn").click(function(){PostAttendanceDetails()});